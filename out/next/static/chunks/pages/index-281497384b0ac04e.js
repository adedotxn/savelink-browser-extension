(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4449)}])},4449:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){n(u);return}c.done?t(s):Promise.resolve(s).then(r,i)}n.r(t),n.d(t,{default:function(){return m}});var i=n(1799);function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(655),u=n(5893),l=n(9008),f=n.n(l),p=n(7160),d=n.n(p),h=n(7294);function m(){var e,t,n=c((0,h.useState)({url:"",title:""}),2),a=n[0],l=n[1],p=c((0,h.useState)(""),2),m=p[0],v=p[1],j=c((0,h.useState)(""),2),y=j[0],b=j[1],_=c((0,h.useState)(null),2),x=_[0],g=_[1],w=c((0,h.useState)(!1),2),O=w[0],S=w[1],k=c((0,h.useState)(""),2),P=k[0],E=k[1],N=c((0,h.useState)(!1),2),A=N[0],C=N[1];(0,h.useEffect)(function(){y.includes(",")&&g(y.split(",").map(function(e){return e.trim()}))},[y]);var T=(e=function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return C(!0),[4,fetch("http://savelink.vercel.app/api/".concat(m,"/save"),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({identifier:"".concat(m),title:"".concat(a.title),url:"".concat(a.url),categories:null!=x?x:["saved"],bookmarked:!1,time:Date.now()})}).then(function(e){e.json(),C(!1),S(!0)}).catch(function(e){C(!1),E(e.message),console.error(e)})];case 1:return e.sent(),[2]}})},t=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function c(e){r(a,i,o,c,s,"next",e)}function s(e){r(a,i,o,c,s,"throw",e)}c(void 0)})},function(){return t.apply(this,arguments)});return(0,h.useEffect)(function(){chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},function(e){l({url:e[0].url,title:e[0].title})}),chrome.identity&&chrome.identity.getProfileUserInfo(function(e){v(e.email)})},[]),(0,h.useEffect)(function(){O&&setTimeout(function(){S(!1),l({title:"",url:""}),b(""),g([])},2e3)},[O]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(f(),{children:[(0,u.jsx)("title",{children:"Savelink Extension"}),(0,u.jsx)("meta",{name:"description",content:"Web extension for the savelink web app"}),(0,u.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,u.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,u.jsx)("main",{className:d().main,children:(0,u.jsxs)("div",{className:d().description,children:[(0,u.jsx)("h1",{children:"Savelink"}),(0,u.jsxs)("p",{children:["Link will be saved under : ",m," in"," ",(0,u.jsx)("a",{href:"http://savelink.vercel.app",children:"Savelink"})]}),(0,u.jsxs)("div",{className:d().inputs,children:[(0,u.jsx)("input",{type:"text",onChange:function(e){return l(o((0,i.Z)({},a),{title:e.target.value}))},value:a.title}),(0,u.jsx)("input",{type:"text",onChange:function(e){return l(o((0,i.Z)({},a),{url:e.target.value}))},name:"url",value:a.url}),(0,u.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},value:y,placeholder:"Type in categories you want to save this link in"})]}),(0,u.jsx)("div",{className:d().save,children:O?(0,u.jsx)("button",{children:"Saved âœ…"}):A?(0,u.jsxs)("button",{children:["Saving ",(0,u.jsx)("span",{className:d().loader})]}):(0,u.jsx)("button",{onClick:function(){T()},children:"Save"})}),""!==P&&(0,u.jsx)("p",{children:P})]})})]})}},7160:function(e){e.exports={main:"Home_main__nLjiQ",description:"Home_description__41Owk",inputs:"Home_inputs__EJh_j",save:"Home_save__xVDUk",loader:"Home_loader__7Zjim",rotation:"Home_rotation__vpfOx"}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);